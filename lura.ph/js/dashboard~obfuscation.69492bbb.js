(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard~obfuscation"],{"2e49":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal",{attrs:{modalOpen:e.dragging,hideSelf:!1,loading:!1,hideClose:""},scopedSlots:e._u([{key:"banner",fn:function(){return[n("div",{attrs:{id:"header"}},[n("h4",[e._v("Luraph")]),n("h4",[e._v("Drag & Drop")])])]},proxy:!0}])},[n("div",{attrs:{id:"dragDrop"}},[n("div",[n("svg-icon",{staticClass:"upload",attrs:{icon:"icons/cloud_upload_icon"}}),n("h3",[e._v("Drag & drop files here to start obfuscating!")])],1)])])},o=[],a={name:"DragDrop",props:{disabled:Boolean},methods:{onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),this.disabled||(this.enterTarget=e.target,this.dragging=!0)},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),this.enterTarget===e.target&&(this.dragging=!1)},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDrop:function(e){var t,n;e.preventDefault(),e.stopPropagation();for(var r=[],o=null!==(t=null===e||void 0===e||null===(n=e.dataTransfer)||void 0===n?void 0:n.items)&&void 0!==t?t:[],a=0;a<o.length;a++){var i=o[a];"file"===i.kind&&r.push(i.getAsFile())}return this.$emit("changeFile",r),this.$emit("showModal"),this.dragging=!1,!1}},data:function(){return{dragging:!1}},mounted:function(){var e=document.getElementById("dashboard-layout");e.addEventListener("dragenter",this.onDragEnter),e.addEventListener("dragleave",this.onDragLeave),e.addEventListener("dragover",this.onDragOver),e.addEventListener("drop",this.onDrop),this.layout=e},unmounted:function(){var e=this.layout;e.removeEventListener("dragenter",this.onDragEnter),e.removeEventListener("dragleave",this.onDragLeave),e.removeEventListener("dragover",this.onDragOver),e.removeEventListener("drop",this.onDrop)}},i=a,s=(n("3beb"),n("2877")),u=Object(s["a"])(i,r,o,!1,null,"b496ee0e",null);t["a"]=u.exports},"2e96":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"checkbox"}},[n("div",{staticClass:"text"},[n("label",{attrs:{for:e.id}},[e._t("default")],2),n("label",{staticClass:"lower",attrs:{for:e.id}},[e._t("description")],2)]),n("div",{class:["radio",e.value?"checked":"",e.disabled?"disabled":""],style:{width:e.size+"px",height:e.size+"px",borderRadius:e.border+"px"},on:{click:e.toggleInput}},[n("div",{style:{margin:e.margin+"px",width:"calc(100% - "+2*e.margin+"px)",height:"calc(100% - "+2*e.margin+"px)",borderRadius:e.border+"px"}})]),n("input",{ref:"input",attrs:{type:"checkbox",id:e.id,disabled:e.disabled},domProps:{value:e.value},on:{input:e.invokeModel}})])},o=[],a=(n("a9e3"),n("d3b7"),n("25f0"),{name:"FormCheckbox",props:{size:{type:Number,default:50},margin:{type:Number,default:10},border:{type:Number,default:10},value:Boolean,disabled:Boolean},methods:{invokeModel:function(e){this.$emit("input",e.target.checked)},toggleInput:function(e){this.$refs&&this.$refs.input&&this.$refs.input.click()}},data:function(){return{id:"_"+Math.random().toString(36).substr(2,9)}}}),i=a,s=(n("dd78"),n("2877")),u=Object(s["a"])(i,r,o,!1,null,"34219311",null);t["a"]=u.exports},"3beb":function(e,t,n){"use strict";n("7f0f")},"4f23":function(e,t,n){"use strict";n("a413")},"554d":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal",{attrs:{modalOpen:e.modalOpen,hideSelf:!1,loading:e.loading,maxWidth:500},on:{modalClosed:e.modalClosed},scopedSlots:e._u([{key:"banner",fn:function(){return[n("h4",[e._v("Luraph Obfuscation")])]},proxy:!0}])},[n("div",{attrs:{id:"obfuscate"}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.obfuscateFile(t)}}},[e.canUseTokens?n("FormCheckbox",{attrs:{size:25,margin:5},model:{value:e.selectedUseTokens,callback:function(t){e.selectedUseTokens=t},expression:"selectedUseTokens"}},[e._v(" Use tokens for premium options ")]):e._e(),n("FormInput",{attrs:{select:"",value:e.nodeId,name:"Obfuscation Node"},on:{input:e.changeNode}},e._l(e.nodes,(function(t,r){return n("option",{key:r,domProps:{value:r}},[e._v(" "+e._s(r)+" "+e._s(r===e.recommendedId?" (Recommended)":"")+" ")])})),0),e._l(e.options,(function(t,r){return n("div",{key:r},["CHECKBOX"===t.type?n("FormCheckbox",{attrs:{value:t.value,size:25,margin:5},on:{input:function(e){return t.value=e}},scopedSlots:e._u([{key:"description",fn:function(){return[n("span",[e._v(e._s(t.description))])]},proxy:!0}],null,!0)},[n("span",[e._v(e._s(t.name))]),"PREMIUM_ONLY"===t.tier?n("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"This is a premium feature",template:e.tooltipTemplate},expression:"{ content: 'This is a premium feature', template: tooltipTemplate }"}]},[e._v(" ⭐ ")]):e._e(),"ADMIN_ONLY"===t.tier?n("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"This is a administrator-only feature",template:e.tooltipTemplate},expression:"{ content: 'This is a administrator-only feature', template: tooltipTemplate }"}]},[e._v(" ❗ ")]):e._e()]):e._e(),"DROPDOWN"===t.type?n("FormInput",{attrs:{select:"",name:t.name,description:t.description,value:t.value},on:{input:function(e){return t.value=e}}},e._l(t.choices,(function(t,r){return n("option",{key:r,domProps:{value:r}},[e._v(" "+e._s(t)+" ")])})),0):e._e(),"TEXT"===t.type?n("FormInput",{attrs:{type:"text",name:t.name,description:t.description,value:t.value},on:{input:function(e){return t.value=e}}}):e._e()],1)})),n("FormInput",{attrs:{accept:".lua,.txt",value:e.file?e.file.name:"",name:"Obfuscation File",type:"file"},on:{input:e.changeFile}}),n("Button",{attrs:{type:"model-form",disabled:null==e.file,submit:""}},[e._v(" Obfuscate ")])],2)])])},o=[];n("a9e3");function a(e){if(Array.isArray(e))return e}n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function i(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(u){o=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(o)throw a}}return n}}n("a630"),n("fb6a"),n("b0c0"),n("25f0");function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||i(e,t)||u(e,t)||d()}n("96cf");var l=n("1da1"),f=n("5530"),p=n("2f62"),m=n("2e96"),h=n("a0a3"),v=n("2a7d"),b={name:"Obfuscate",components:{FormCheckbox:m["a"],FormInput:h["a"],Button:v["a"]},props:{modalOpen:Boolean,doNotClear:Boolean,file:File},computed:Object(f["a"])(Object(f["a"])({canUseTokens:function(){return this.user.tokens>0&&"basic"===this.user.plan},usingTokens:function(){return this.canUseTokens&&this.selectedUseTokens},tooltipTemplate:function(){return'<div class="tooltip" role="tooltip" '.concat(this.darkTheme?'data-theme="dark"':"",'><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>')},node:function(){return this.obfuscation.node},nodes:function(){return this.obfuscation.nodes},nodeId:function(){return this.obfuscation.node.id},recommendedId:function(){return(this.recommendedNode||{}).id}},Object(p["d"])(["user","obfuscation","darkTheme"])),Object(p["c"])(["recommendedNode"])),watch:{node:function(e){this.modalOpen&&(""===e.id?this.modalCloseNoNode():(console.log("new node",e),this.options=this.generateNodeSettings(e.options)))},modalOpen:function(e){if(!0===e){if(""===this.node.id)return void this.modalCloseNoNode();console.log("node",this.node),this.doNotClear?this.$emit("resetDNC"):this.$emit("changeFile",null),this.options=this.generateNodeSettings(this.node.options)}}},methods:Object(f["a"])({changeNode:function(e){this.$store.commit("setNode",e)},changeFile:function(e){this.$emit("changeFile",e)},canAccessTier:function(e){if(!0===this.user.admin)return!0;switch(e){case"PREMIUM_ONLY":return this.usingTokens||"premium"===this.user.plan||"commercial"===this.user.plan;case"CUSTOMER_ONLY":return!0;default:break}return!1},generateNodeSettings:function(e){if(!e)return{};var t={},n=e;for(var r in n){var o=n[r],a={};if("ADMIN_ONLY"!==o.tier||this.user.admin){switch(o.type){case"CHECKBOX":a.value=!1;break;case"DROPDOWN":a.value="0";break;default:a.value="";break}t[r]=Object.assign({},a,o)}}return t},buildRequestOptions:function(){if(""===this.node.id||!this.node.options)return{};var e={},t=this.getRawNodeSettings(this.node.options);for(var n in t){var r=this.options[n],o=t[n];if("undefined"!==typeof r&&(o=r.value,"DROPDOWN"===r.type)){var a=Number(r.value);(a>r.choices.length||isNaN(a))&&(a=0),o=r.choices[a]}e[n]=o}return e},getRawNodeSettings:function(e){var t={};for(var n in e){var r=e[n],o="";switch(r.type){case"CHECKBOX":o=!1;break;case"DROPDOWN":o=r.choices[0];break;default:break}t[n]=o}return t},obfuscateFile:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,i,s,u,d,l,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.file){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,n=e.nodeId,r=e.buildRequestOptions(),""!==n&&!e.loading&&null!==e.file){t.next=9;break}return t.abrupt("return");case 9:if(!(e.file.size>5e7)){t.next=11;break}throw new Error("file exceeds the maximum file size of 50mb");case 11:return e.loading=!0,t.next=14,e.obfuscateFileAsync({file:e.file,nodeId:n,options:r});case 14:if(o=t.sent,a=c(o,2),i=a[0],s=a[1],i){t.next=20;break}throw new Error("failed to obfuscation file (invalid response)");case 20:e.$emit("modalClosed",s),t.next=41;break;case 23:if(t.prev=23,t.t0=t["catch"](2),u=t.t0.response,!(u&&u.data&&u.data.errors&&u.data.errors.length)){t.next=40;break}d=t.t0.response.data.errors,l=0;case 29:if(!(l<d.length)){t.next=38;break}if(f=d[l],f&&f.message){t.next=33;break}return t.abrupt("continue",35);case 33:return alert("Failed to obfuscate file: ".concat(f.message)),t.abrupt("break",38);case 35:l++,t.next=29;break;case 38:t.next=41;break;case 40:alert("Failed to obfuscate file: ".concat(t.t0.message));case 41:e.loading=!1;case 42:case"end":return t.stop()}}),t,null,[[2,23]])})))()},modalCloseNoNode:function(){alert("Error: no more obfuscation nodes are available, please try again."),this.$emit("modalClosed")},modalClosed:function(){this.$emit("modalClosed")}},Object(p["b"])(["obfuscateFileAsync"])),data:function(){return{loading:!1,selectedUseTokens:!1,options:{}}}},g=b,k=(n("b552"),n("2877")),y=Object(k["a"])(g,r,o,!1,null,"fc64f5ba",null);t["a"]=y.exports},"7f0f":function(e,t,n){},a413:function(e,t,n){},a630:function(e,t,n){var r=n("23e7"),o=n("4df4"),a=n("1c7e"),i=!a((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:i},{from:o})},a9dc:function(e,t,n){"use strict";n("99af"),n("caad");t["a"]={getOrdinal:function(e){var t=[void 0,"st","nd","rd"],n=[11,12,13],r=void 0===t[e%100]||n.includes(e%100)?"th":t[e%100];return e+r},getMonthName:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return t[e.getMonth()]},getDateFromTS:function(e){var t=new Date;return t.setTime(e),t},getFormattedDateFromTS:function(e){var t=this.getDateFromTS(e);return this.getFormattedDate(t)},getFormattedDate:function(e){if(!(e instanceof Date))return"";var t=e.getDate(),n=e.getFullYear();return"".concat(this.getMonthName(e)," ").concat(this.getOrdinal(t)," ").concat(n)}}},b377:function(e,t,n){},b552:function(e,t,n){"use strict";n("b377")},bcf0:function(e,t,n){},caad:function(e,t,n){"use strict";var r=n("23e7"),o=n("4d64").includes,a=n("44d2"),i=n("ae40"),s=i("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},dd78:function(e,t,n){"use strict";n("bcf0")},e4c7:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{style:{transform:"rotate(-90deg)"},attrs:{height:2*e.radius,width:2*e.radius}},[n("circle",{style:{strokeDashoffset:e.strokeDashoffset,transition:"all .5s ease-in-out"},attrs:{stroke:"currentColor",fill:"transparent","stroke-linecap":this.rounded?"round":"","stroke-dasharray":e.circumference+" "+e.circumference,"stroke-width":e.stroke,r:e.normalizedRadius,cx:e.radius,cy:e.radius}})])},o=[],a=(n("a9e3"),{name:"CircularProgress",props:{rounded:Boolean,radius:Number,progress:Number,stroke:Number},computed:{normalizedRadius:function(){return this.radius-this.stroke},circumference:function(){return 2*this.normalizedRadius*Math.PI},strokeDashoffset:function(){return this.circumference-this.progress/100*this.circumference}}}),i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,null,null);t["a"]=u.exports},e951:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.intermediate?"intermediate":"",style:{borderRadius:this.rounded?this.roundPx+"px":""},attrs:{id:"linear-progress"}},[n("div",{style:{backgroundColor:this.color,width:(this.intermediate?100:this.progress)+"%",borderRadius:this.rounded?this.roundPx+"px":""}})])},o=[],a=(n("a9e3"),{name:"Linear-Progress",props:{color:String,progress:Number,rounded:Boolean,intermediate:Boolean,roundPx:{type:Number,default:5}}}),i=a,s=(n("4f23"),n("2877")),u=Object(s["a"])(i,r,o,!1,null,"cc7dea3e",null);t["a"]=u.exports}}]);